"0","variables <- c(""gdp"", ""gini"", ""homeless"", ""population"", ""rentincome"", ""unemployment"")"
"0","rds <- paste0(variables, "".RDS"")"
"0","final_dataset <- map_dfr(rds, readRDS) %>%"
"0","  unite(state.year, state, year) %>%"
"0","  gather(key, value, gdp:unemployment) %>%"
"0","  filter(!is.na(value)) %>%"
"0","  spread(key, value) %>%"
"0","  separate(state.year, into = c(""state"", ""year""), sep = ""_"") %>%"
"0","  mutate(share_homeless = (number_homeless / population) * 10000)"
"0","saveRDS(final_dataset, ""aggregated.RDS"")"
